import numpy as np
import os


# finds the levels to be used for programming
def rangefind(rmin, rmax, level_num):
    S_min = rmax ** (-1)
    S_max = rmin ** (-1)
    level_step = (S_max - S_min) / level_num
    level_gap = level_step / 2
    s_counter = 0
    r_array = []
    while s_counter < level_num:
        # s_array = s_array + [(S_min + level_step * s_counter, S_min + level_step * s_counter + level_gap)]
        r_array = r_array + [
            ((S_min + level_step * s_counter) ** (-1), (S_min + level_step * s_counter + level_gap) ** (-1))]
        s_counter += 1
    print(r_array)
    return r_array

#Proportional state width - plus minus one percent of target​
def rangefind_prop(rmin, rmax, level_num):
    S_min = rmax ** (-1)
    S_max = rmin ** (-1)
    level_step = (S_max - S_min) / level_num
    counter = 0 
    r_array = []
    while counter <= level_num:
        r_array = r_array + [(S_min + level_step*counter)**(-1)]
        counter += 1
    # r_dist = np.linspace(rmin, rmax, level_num)
    r_perc = []
    for i in r_array:
        r_perc = r_perc + [0.05*i]
    r_array_levels = []
    for i in range(len(r_array)):
        r_array_levels = r_array_levels + [(r_array[i] + r_perc[i], r_array[i] - r_perc[i])]
    print(r_array_levels)
    

    

#rangefind(2.5e7, 1e10, 20)
rangefind_prop(2.5e7, 1e10, 8)

# dynamic resistance range 1e7 - 1e9, want to get this in terms of conductance
# dynamic conductance range 1nS - 1000nS
# 1nS, 100nS, 200nS, 300nS, 400nS, 500nS, 600nS, 700nS, 800nS, 900nS
# 1GΩ, 10MΩ, 5mΩ, 3.33MΩ, 2.5MΩ, 2MΩ, 1.66MΩ, 1.43MΩ, 1.25MΩ, 1.11MΩ
# temp = 1e7-1.2e7, 1.5e7-1.97e7, 2.87e7-4.64e7, 1.8e8-5e9
# 1.6e-8 in between levels
# 1.3e-8 in between vals

#9.1e8, 1e10
#2.44e7, 2.5e7

# (10000000000.0, 909918107.3703367)
#                                                  (244140625.0, 196270853.77821392)
# (123578843.3020267, 109998900.0109999)
#                                                   (82726671.0787558, 76411706.2734011)
# (62173588.65953743, 58537727.565415904)
#                                                       (49800796.812749006, 47440580.67270743)
# (41535138.72736335, 39880358.923230305)
#                                                        (35622684.52550584, 34398541.501840316)
# (31183734.56405139, 30241630.6287235)
#                                                        (27728482.6974268, 26981086.25853277)
# (24962556.165751375, 24355196.18110524)

# [(10000000000.0, 5006257822.277847), (3338898163.60601, 2504696305.5729494), (2004008016.032064, 1670146137.7870562), (1431639226.9148173, 1252740369.558409), (1113585746.10245, 1002255073.9163117), (911161731.2072891, 835247442.0547086), (771010023.1303006, 715947735.8152854), (668225860.3407952, 626468285.0430696), (589622641.5094339, 556870388.4170959), (527565286.2041678, 501190327.02668834), (477326968.97374696, 455632759.9954436), (435824798.4310307, 417667327.9732692), (400962309.54290295, 385542168.6746987), (371264154.4458882, 358005907.09746706), (345661942.6201175, 334140840.36421347), (323362974.93936944, 313258673.3495183), (303766707.1688943, 294833050.78499293), (286409852.4989259, 278454577.097111), (270929287.455974, 263800039.57000592), (257036370.64644647, 250610863.98095357), (244498777.50611243, 238677725.40127692), (233127404.12635505, 227829355.81249645), (222766763.19893068, 217924271.3157178), (213287831.92918843, 208844567.43068972), (204582651.391162, 200491203.4484487), (196560196.56019655, 192780374.9578293), (189143181.38831094, 185640692.4397828), (182265560.92226374, 179010964.42157084), (175870559.26837847, 172838439.2688934), (169909098.63223174, 167077398.60490373), (164338537.38701725, 161688022.95969924), (159121648.50027847, 156635470.10220465), (154225786.5515114, 151889120.94171256), (149622203.93506396, 147421958.50071868), (145285485.9799506, 143210053.34574488), (141193081.53900456, 139232134.77670646), (137324910.738808, 135469231.55078402), (133663035.48753592, 131904369.33223413), (130191381.33055593, 128522314.68688752), (126895501.55446991, 125309357.47626954), (123762376.23762377, 122253125.09551024), (120780240.3526783, 119342423.24790405), (117938436.13633685, 116567098.93632522), (115227285.82128249, 113917922.13710022), (112637981.52737103, 111386483.25025757), (110162489.6722666, 108965103.92546786), (107793467.71585643, 106646759.27160263), (105524191.42088325, 104425009.78984468), (103348491.11202976, 102293941.64130628), (101260695.6609792, 100248114.08235383), (99255583.12655088, 98282513.08385956), (97328337.14535987, 96392510.30194953), (95474508.30628222, 94573826.69346258), (93689979.85665433, 92822500.17404218), (91970937.18384992, 91134856.80435625), (90313840.59607135, 89507485.06343842), (88715400.9936125, 87937212.83003935), (87172558.07871683, 86421086.74516582), (85682460.8002742, 84956353.67330034), (84242449.77043933, 83540444.01745994), (82850041.42502071, 82170956.6753631), (81502913.72916582, 80845645.45142187), (80198893.25527309, 79562406.76280458), (78935943.48186447, 78319268.49803223), (77712154.1809139, 77114379.9039926), (76525731.77731012, 75946002.39229907), (75374990.57812618, 74812501.16894533), (74258344.78149483, 73712337.60250622), (73174301.18542369, 72644062.25596136), (72121452.52605388, 71606308.51578024), (71098471.38286527, 70597786.7593851), (70104104.59532405, 69617279.00864995), (69137168.14159292, 68663634.02283065), (68196542.43529853, 67735762.7893587), (67281168.00107649, 66832634.375365496), (66390041.493775934, 65953272.10671239), (65522212.029878125, 65096750.044754006), (64676777.80292985, 64262189.734115176), (63852882.95766554, 63448757.19746839), (63049714.70004097, 62655660.155699305), (62266500.622664995, 61882145.453982875), (61502506.22712875, 61127496.676192366), (60757032.62652651, 60391031.93175813), (60029414.413062386, 59672101.800605655), (59319017.677067265, 58970087.4231546), (58625238.16503004, 58284398.72357166), (57947499.56539375, 57614472.755556196), (57285251.911895275, 56959772.16091135), (56637970.09515178, 56319783.73203046), (56005152.47402761, 55694017.07021623), (55386319.57906397, 55082003.33246119), (54781012.90092853, 54483294.05995885), (54188793.75745095, 53897460.08219362), (53609242.23336103, 53324090.49098156), (53041956.187344186, 52762791.67930775), (52486550.32148012, 52213186.44023547), (51942655.30853937, 51674913.1215523), (51409916.97298409, 51147624.83217185), (50887995.52185639, 50630988.69663177), (50376564.822044775, 50124685.154321365), (49875311.72069825, 49628407.30033871), (49383935.40581249, 49141860.26512033), (48902146.8042447, 48664760.63020864), (48429668.01462576, 48196835.877724625), (47966231.772831924, 47737823.87129882), (47511580.94785604, 47287472.36638334), (47065468.066079915, 46845538.54802253), (46627654.8620987, 46411788.594302945), (46197911.854384184, 45985997.26383316), (45776017.94419903, 45567947.50572447), (45361760.0362894, 45157430.09065353), (44954932.67998831, 44754243.261689246), (44555337.729459986, 44358192.403659545), (44162784.02190474, 43969089.72991986), (43777087.07262618, 43586753.98546381), (43398068.78593902, 43211010.165390134), (43025557.18096549, 42841689.24780704), (42659386.13143357, 42478627.94031753), (42299395.118649796, 42121668.43928687), (41945428.99687506, 41770658.2011466), (41597337.770382695, 41425449.72503857), (41254976.381526016, 41085900.34614871), (40918204.509186134, 40751872.03912179), (40586886.37701158, 40423231.23098844), (40260890.57089943, 40099848.62307145), (39940089.865202196, 39781599.02137266), (39624361.057177946, 39468361.17497311), (39313584.80923083, 39160017.62200793), (39007645.49851771, 38856454.54280524), (38706431.07352286, 38557561.61980316), (38409832.91722681, 38263231.90388276), (38117745.71651832, 37973361.68677672), (37830067.337519854, 37687850.379233986), (37546698.70651623, 37406600.39463963), (37267543.69619498, 37129517.03780713), (36992509.01692407, 36856508.39867685), (36721504.11280846, 36587485.25067001), (36454441.062282406, 36322360.95346197), (36191234.48300821, 36061051.3599524), (35931801.44086523, 35803474.72722227), (35676061.36282554, 35549551.63128004), (35423935.95352379, 35299204.88540995), (35175349.115339965, 35052359.46194628), (34930226.871823534, 34808942.417307004), (34688497.29429721, 34568882.820129454), (34450090.43148738, 34332111.6823593), (34214938.24203647, 34098561.893152155), (33982974.529760584, 33868168.15545489), (33754134.88152298, 33640866.92514066), (33528356.60760088, 33416596.35257851), (33305578.68442964, 33195296.226524703), (33085741.69961455, 32976907.920228858), (32868787.79910597, 32761374.339653548), (32654660.636439335, 32548639.873711273), (32443305.323946398, 32338650.346427787), (32234668.385848977, 32131352.970945217), (32028697.71315098, 31926696.30528307), (31825342.52024887, 31724630.209779117), (31624553.30318459, 31525105.80613636), (31426281.799468894, 31328075.438005652), (31230480.949406616, 31133492.6330373), (31037104.858858768, 30941312.066338174), (30846108.7633795, 30751489.525273878), (30657448.993669234, 30563981.875558745), (30471082.942287765, 30378747.028578803), (30286969.03157416, 30195743.909895897), (30105066.6827227, 30014932.428883363), (29925336.28596651, 29836273.449446164), (29747739.17182294, 29659728.76178047), (29572237.58335674, 29485261.055130064), (29398794.64941937, 29312833.891498543), (29227374.35882447, 29142411.680278596), (29057941.535421632, 28973959.653761182), (28890461.814032096, 28807443.843489155), (28724901.61721196, 28642831.057421714), (28561228.13280971, 28480088.857877232), (28399409.292286716, 28319185.54022386), (28239413.749770552, 28160090.112288356), (28081210.86181236, 28002772.27445517), (27924770.66782089, 27847202.400428846), (27770063.871146902, 27693351.518634163), (27617061.820792884, 27541191.29422943), (27465736.493724074, 27390694.01170952), (27316060.477757897, 27241832.55807618), (27168006.95500978, 27094580.406554177), (27021549.685874484, 26948911.60083272), (26876662.993522722, 26804800.739812497), (26733321.748893905, 26662222.96283952), (26591501.35616657, 26521153.935407728), (26451177.738688815, 26381569.83531305), (26312327.325351927, 26243447.33924248), (26174927.03739088, 26106763.6097822), (26038954.27559629, 25971496.28282959), (25904386.907922853, 25837623.45539457), (25771203.257480092, 25705123.673776276), (25639382.090891607, 25573975.92210167), (25508902.607009843, 25444159.61121324), (25379744.425973628, 25315654.56789342), (25251887.578596495, 25188441.02441389), (25125312.49607417, 25062499.608398445)]